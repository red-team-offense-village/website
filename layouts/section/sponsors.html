{{ define "main" }}
{{ partial "hero" . }}

<div class="container mx-auto px-4 py-4 max-w-6xl">
  <!-- Introduction Section -->
  <section class="py-8 px-4 mb-8">
    <div class="max-w-6xl mx-auto">
      <div class="bg-red-800 rounded-lg shadow-lg p-8">
        <h2 class="text-3xl font-bold text-center text-white mb-6">
          Our Sponsors
        </h2>
        <p class="text-lg text-white max-w-4xl mx-auto text-center">
          We thank our sponsors for supporting Red Team Village and making our mission possible. Your backing allows us to provide learning opportunities, develop skills, and build connections among security professionals worldwide. Through your support, we deliver education, hands-on experiences, and collaborative environments that strengthen our industry by developing offensive security talent.
        </p>
      </div>
    </div>
  </section>

  <!-- Events and Sponsors Section -->
  {{ range .Site.Data.sponsors.events }}
  <section class="mb-24 border-b border-gray-200 pb-8">
    <div class="mb-12">
      <!-- Event Header with Title -->
      <h2 class="text-3xl font-bold text-center">{{ .name }}</h2>
      <!-- Event Details Card -->
      <div class="flex flex-col md:flex-row items-center md:items-start gap-8 mb-12 max-w-5xl mx-auto">
        <!-- Event Image -->
        <div class="w-full md:w-1/3 rounded-lg overflow-hidden shadow-md">
          <img src="/assets/images/events/{{ .image }}" alt="{{ .name }}" class="w-full h-auto object-cover">
        </div>
        
        <!-- Event Info -->
        <div class="w-full md:w-2/3">
          <div class="text-lg font-medium text-gray-900 mb-3">
            <span>{{ .dates }}</span>
            {{ if .location }}
            <span class="mx-2">â€¢</span>
            <span>{{ .location }}</span>
            {{ end }}
          </div>
          
          <p class="text-gray-700 leading-relaxed">{{ .description }}</p>
        </div>
      </div>
    </div>

    <!-- Sponsor Levels -->
    <div class="max-w-7xl mx-auto">
      <div class="mx-auto">
        {{ range .levels }}
          {{ $sponsorCount := len .sponsors }}
          {{ if gt $sponsorCount 0 }}
          <div class="mb-16">
            <h3 class="text-3xl font-bold text-center mb-4">
              {{ .name }} {{ if eq $sponsorCount 1 }}Sponsor{{ else }}Sponsors{{ end }}
            </h3>
            
            <!-- Updated grid with better centering -->
            <div class="flex flex-wrap justify-center gap-8 max-w-6xl mx-auto">
              {{ range .sponsors }}
              <div class="w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.33rem)] bg-white border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1 flex flex-col">
                <div class="p-6 bg-gray-50 h-40 flex items-center justify-center">
                  <a href="{{ .website }}" target="_blank" rel="noopener" class="block">
                    <img src="/assets/images/sponsors/{{ .logo }}" alt="{{ .name }} logo" class="max-w-full max-h-full object-contain">
                  </a>
                </div>
                <div class="p-6 flex flex-col flex-grow text-center">
                  <h4 class="text-lg font-medium mb-3">{{ .name }}</h4>
                  <p class="text-gray-600 mb-4 flex-grow">{{ .description }}</p>
                  <div class="text-center">
                    <a href="{{ .website }}" class="inline-block py-2 px-6 bg-red-800 hover:bg-red-900 text-white rounded transition-colors duration-300" target="_blank" rel="noopener">Visit Website</a>
                  </div>
                </div>
              </div>
              {{ end }}
            </div>
          </div>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </section>
  {{ end }}

  <!-- Become a Sponsor Section -->
  <section class="mb-8 px-8">
    <div class="bg-red-800 text-white rounded-lg shadow-md p-8 text-center">
      <h2 class="text-3xl font-bold mb-6 relative inline-block">
        <span class="relative pb-2 after:content-[''] after:absolute after:bottom-0 after:left-1/4 after:w-1/2 after:h-0.5 after:bg-white">Become a Sponsor</span>
      </h2>
      <p class="text-lg mb-6 max-w-2xl mx-auto">Interested in sponsoring Red Team Village?<br>Reach out to learn about our sponsorship opportunities and benefits.</p>
      <a href="mailto:sponsors@redteamvillage.io" class="inline-block py-3 px-6 bg-white text-black hover:bg-gray-100 rounded-md font-medium transition-colors duration-300">Contact Us</a>
    </div>
  </section>
</div>

{{ end }} 